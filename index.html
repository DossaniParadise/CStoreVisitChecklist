<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPM Store Visit Checklist</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-header: #2c3e50;
            --text-primary: #333333;
            --text-secondary: #666666;
            --text-header: #ffffff;
            --border-color: #dddddd;
            --category-bg: #ecf0f1;
            --hover-bg: #e8e8e8;
            --input-bg: #ffffff;
            --input-border: #cccccc;
            --checkbox-bg: #ffffff;
            --shadow: rgba(0, 0, 0, 0.1);
            --category-alt-1: #d9d9d9;
            --category-alt-2: #efefef;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-header: #1a1a1a;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-header: #ffffff;
            --border-color: #404040;
            --category-bg: #2d2d2d;
            --hover-bg: #3a3a3a;
            --input-bg: #2d2d2d;
            --input-border: #404040;
            --checkbox-bg: #2d2d2d;
            --shadow: rgba(0, 0, 0, 0.3);
            --category-alt-1: #3a3a3a;
            --category-alt-2: #2a2a2a;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid var(--border-color);
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.3s;
            box-shadow: 0 2px 5px var(--shadow);
        }

        .icon-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px var(--shadow);
        }

        .sticky-header {
            position: static;
            top: 0;
            background-color: var(--bg-header);
            color: var(--text-header);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px var(--shadow);
            z-index: 100;
        }

        .header-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .header-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .header-inputs.mobile {
            grid-template-columns: 1fr;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            font-size: 12px;
            margin-bottom: 5px;
            opacity: 0.9;
        }

        .input-group input {
            padding: 10px;
            border: 1px solid var(--input-border);
            border-radius: 4px;
            background-color: var(--input-bg);
            color: var(--text-primary);
            font-size: 14px;
        }

        .sheet-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 12px 24px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background-color: var(--bg-header);
            color: var(--text-header);
            border-color: var(--bg-header);
        }

        .tab-btn:hover:not(.active) {
            background-color: var(--hover-bg);
        }

        .save-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: flex-end;
            flex-wrap: wrap;
        }

        .save-btn {
            padding: 10px 20px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--bg-header);
            color: var(--text-header);
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow);
        }

        .checklist-container {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .checklist-sheet {
            display: none;
        }

        .checklist-sheet.active {
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background-color: var(--bg-header);
            color: var(--text-header);
        }

        th {
            padding: 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 2px solid var(--border-color);
        }

        tbody tr {
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s;
        }

        tbody tr:hover {
            background-color: var(--hover-bg);
        }

        tbody tr.category-row {
            font-weight: bold;
        }

        tbody tr.category-row.category-alt-1 {
            background-color: var(--category-alt-1);
        }

        tbody tr.category-row.category-alt-2 {
            background-color: var(--category-alt-2);
        }

        tbody tr.category-row:hover {
            filter: brightness(0.98);
        }

        td {
            padding: 12px;
            font-size: 14px;
        }

        .task-cell {
            font-weight: 500;
        }

        .category-row .task-cell {
            font-weight: 700;
            font-size: 15px;
        }

        .checkbox-group {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            appearance: none;
            border: 2px solid var(--input-border);
            border-radius: 4px;
            background-color: var(--checkbox-bg);
            position: relative;
            transition: all 0.3s;
        }

        input[type="checkbox"]:checked {
            border-color: transparent;
        }

        input[type="checkbox"]:checked::after {
            content: '‚úì';
            position: absolute;
            color: white;
            font-size: 16px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .checkbox-yes:checked {
            background-color: #27ae60;
            border-color: #27ae60;
        }

        .checkbox-no:checked {
            background-color: #e74c3c;
            border-color: #e74c3c;
        }

        .checkbox-pending:checked {
            background-color: #f39c12;
            border-color: #f39c12;
        }

        input[type="text"],
        input[type="date"],
        textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--input-border);
            border-radius: 4px;
            background-color: var(--input-bg);
            color: var(--text-primary);
            font-size: 13px;
        }

        textarea {
            resize: vertical;
            min-height: 40px;
            font-family: inherit;
        }

        .date-cell {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .same-above-btn {
            padding: 4px 8px;
            border: 1px solid var(--border-color);
            border-radius: 3px;
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 11px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .same-above-btn:hover {
            background-color: var(--hover-bg);
            color: var(--text-primary);
        }

        .mobile-layout table {
            font-size: 12px;
        }

        .mobile-layout th,
        .mobile-layout td {
            padding: 8px 4px;
        }

        .mobile-layout .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }

        .mobile-layout textarea {
            font-size: 12px;
        }

        .comment-btn {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--input-border);
            border-radius: 4px;
            background: var(--input-bg);
            color: var(--text-secondary);
            text-align: left;
            cursor: pointer;
            min-height: 36px;
        }

        .comment-btn.has-content {
            color: var(--text-primary);
            font-weight: 500;
        }

        .comment-print {
            display: none;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            padding: 16px;
        }

        .modal-overlay.open { display: flex; }

        .modal-card {
            width: min(700px, 100%);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: 8px;
            padding: 16px;
        }

        .modal-card textarea {
            min-height: 200px;
            font-size: 15px;
            margin-top: 10px;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 10px;
        }

        @media print {
            .controls, .sheet-tabs, .same-above-btn, .comment-btn, .modal-overlay {
                display: none !important;
            }
            .sticky-header { position: static; }
            .comment-print { display: block; min-height: 40px; }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

        .status-select {
            width: 100%;
            border: 1px solid var(--input-border);
            border-radius: 4px;
            padding: 6px;
            font-size: 12px;
            font-weight: 600;
            background: var(--input-bg);
            color: var(--text-primary);
        }

        .status-select.status-yes { background: #d8f5df; color: #1e7c3c; }
        .status-select.status-no { background: #f9d6d6; color: #9e2d2d; }
        .status-select.status-pending { background: #fff3cd; color: #9a6a00; }

        .comment-btn {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--input-border);
            border-radius: 4px;
            background: var(--input-bg);
            color: var(--text-secondary);
            text-align: left;
            cursor: pointer;
            min-height: 36px;
        }

        .comment-btn.has-content {
            color: var(--text-primary);
            font-weight: 500;
        }

        .comment-print {
            display: none;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            padding: 16px;
        }

        .modal-overlay.open { display: flex; }

        .modal-card {
            width: min(700px, 100%);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: 8px;
            padding: 16px;
        }

        .modal-card textarea {
            min-height: 200px;
            font-size: 15px;
            margin-top: 10px;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            margin-top: 10px;
        }

        @media print {
            .controls, .sheet-tabs, .same-above-btn, .comment-btn, .modal-overlay {
                display: none !important;
            }
            .sticky-header { position: static; }
            .status-select { border: none; background: transparent !important; }
            .comment-print { display: block; min-height: 40px; }
        }

        @media (max-width: 768px) {
            .container { padding: 8px; }
            .controls { top: 10px; right: 10px; }
            .header-title { font-size: 20px; }
            table { font-size: 11px; table-layout: fixed; }
            th, td { padding: 6px 3px; overflow-wrap: anywhere; }
            .save-buttons { justify-content: center; }
            .save-btn { width: 100%; }
            .same-above-btn { display: none; }
            .header-inputs { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .hide-mobile {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="icon-btn" id="themeToggle" title="Toggle Dark/Light Mode">üåô</button>
    </div>

    <div class="container">
        <div class="sticky-header">
            <div class="header-title" id="sheetTitle">DPM CS Store Visit Checklist</div>
            <div class="header-inputs" id="headerInputs">
                <div class="input-group">
                    <label for="nameInput">Observer Name</label>
                    <input type="text" id="nameInput" placeholder="Enter name">
                </div>
                <div class="input-group">
                    <label for="dateInput">Date</label>
                    <input type="date" id="dateInput">
                </div>
                <div class="input-group">
                    <label for="siteInput">Site</label>
                    <input type="text" id="siteInput" placeholder="Enter site">
                </div>
                <div class="input-group">
                    <label for="managerOnDutyInput">Manager on Duty</label>
                    <input type="text" id="managerOnDutyInput" placeholder="Enter manager on duty name">
                </div>
            </div>
        </div>

        <div class="sheet-tabs">
            <button class="tab-btn active" data-sheet="cs">CS - Convenience Store</button>
            <button class="tab-btn" data-sheet="ff">FF - Fast Food</button>
        </div>

        <div class="save-buttons">
            <button class="save-btn" id="savePdfBtnTop">üìÑ Save as PDF (Send to Ops Team + Store Manager)</button>
            <button class="save-btn" id="saveExcelBtn">üìä Save as Excel</button>
            <button class="save-btn" id="clearFormBtnTop">üßπ Clear Form</button>
        </div>

        <div class="checklist-container">
            <div class="checklist-sheet active" id="cs-sheet">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 20%;">Category</th>
                            <th style="width: 25%;">Tasks</th>
                            <th style="width: 5%;">Yes</th>
                            <th style="width: 5%;">No</th>
                            <th style="width: 8%;">Pending</th>
                            <th style="width: 15%;">AC Comments</th>
                            <th style="width: 15%;">Action Items</th>
                            <th style="width: 7%;" >Follow Up Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="category-row">
                            <td>People & Scheduling</td>
                            <td class="task-cell">GM Schedule Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_0" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_0" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_0" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Employee Schedules Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_1" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_1" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_1" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Employee Turnover Ratios Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_2" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_2" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_2" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Operations & Standards</td>
                            <td class="task-cell">Exterior Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_3" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_3" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_3" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Interior Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_4" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_4" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_4" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Fuel Area Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_5" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_5" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_5" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Pump Maintenance and Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_6" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_6" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_6" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Uniform Policy Compliance</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_7" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_7" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_7" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Store Shift Walk Completed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_8" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_8" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_8" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Restrooms Clean & Logs Complete</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_9" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_9" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_9" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Customer Experience</td>
                            <td class="task-cell">Customer Service Observation (‚ÄúWelcome to Paradise‚Äù)</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_10" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_10" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_10" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Upselling Observed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Table Touches Observed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Shift Huddle Meetings Observed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Cash & Controls</td>
                            <td class="task-cell">Petty Cash Count Matches</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_12" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_12" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_12" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Safe Drops Observed and Matching Totals</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_13" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_13" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_13" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Cash Over / Short Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_14" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_14" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_14" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Refunds / Deletes / Voids / Manager Meals Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_15" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_15" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_15" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">All Cash Paid-Outs Match Invoices & Daily Paperwork</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_16" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_16" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_16" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Financial Performance</td>
                            <td class="task-cell">Inside Sales vs Plan Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_17" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_17" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_17" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Fuel Gallons Sales vs Plan Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_18" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_18" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_18" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Fuel & Compliance</td>
                            <td class="task-cell">ATG Fuel Reading Printed & Entered in CSPro</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_19" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_19" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_19" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Leak Test Printed & Uploaded in Bitrix</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_20" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_20" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_20" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Daily Fuel Prices Email Sent</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_21" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_21" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_21" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Accounts & Audit</td>
                            <td class="task-cell">Charge Customer Deposits Verified</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_22" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_22" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_22" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Audit Charge Customer Sales & Collections (CSPro)</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_23" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_23" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_23" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="checklist-sheet" id="ff-sheet">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 20%;">Category</th>
                            <th style="width: 25%;">Tasks</th>
                            <th style="width: 5%;">Yes</th>
                            <th style="width: 5%;">No</th>
                            <th style="width: 8%;">Pending</th>
                            <th style="width: 15%;">AC Comments</th>
                            <th style="width: 15%;">Action Items</th>
                            <th style="width: 7%;" >Follow Up Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="category-row">
                            <td>People & Scheduling</td>
                            <td class="task-cell">GM Schedule Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_0" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_0" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_0" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Employee Schedules Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_1" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_1" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_1" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Employee Turnover Ratios Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_2" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_2" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_2" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Cleanliness & Operations Standards</td>
                            <td class="task-cell">Exterior Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_3" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_3" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_3" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Interior Cleanliness</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_4" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_4" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_4" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Preventative Maintenance Checklists Completed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_5" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_5" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_5" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">POP & Menu Boards Accurate and Current</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_6" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_6" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_6" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Uniform Policy Compliance</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_7" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_7" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_7" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Store Organization (BOH & FOH)</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_8" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_8" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_8" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Guest Experience</td>
                            <td class="task-cell">Customer Service Observation (YOU RULE! / Crowns Offered)</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_9" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_9" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_9" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">OSAT ‚Äì Top 3 Opportunities Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_10" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_10" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_10" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                                                <tr>
                            <td></td>
                            <td class="task-cell">Table Touches Observed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Shift Huddle Meetings Observed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_cs_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Cash & Controls</td>
                            <td class="task-cell">Petty Cash Count Matches</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_11" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_11" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_11" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Safe Drops Observed and Matching Totals</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_12" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_12" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_12" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Cash Over / Short Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_13" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_13" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_13" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Refunds / Deletes / Voids / Manager Meals Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_14" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_14" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_14" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">All Cash Paid-Outs Match Invoices & Daily Paperwork</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_15" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_15" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_15" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Financial Performance</td>
                            <td class="task-cell">Sales vs. Plan</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_16" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_16" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_16" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Labor vs. Plan</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_17" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_17" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_17" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Weekly COGS vs. Ideal</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_18" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_18" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_18" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Food Safety & Compliance</td>
                            <td class="task-cell">Food Safety Criticals Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_19" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_19" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_19" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">SOS Compliance (No Parking Cars)</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_20" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_20" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_20" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">BK Log Completion</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_21" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_21" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_21" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">CHEF Audit Grades Reviewed</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_22" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_22" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_22" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Systems & Execution</td>
                            <td class="task-cell">King Board Updated</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_23" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_23" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_23" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Command Center Accuracy</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_24" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_24" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_24" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">All Equipment in Working Condition</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_25" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_25" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_25" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Facilities & Controls</td>
                            <td class="task-cell">Restrooms Clean & Logs Complete</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_26" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_26" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_26" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Playground Clean & Logs Complete</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_27" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_27" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_27" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td class="task-cell">Petty Cash Count Matches</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_28" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_28" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_28" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                        <tr class="category-row">
                            <td>Leadership Follow-Up</td>
                            <td class="task-cell">ACR Complaints Reviewed with GM</td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_29" value="yes" class="checkbox-yes"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_29" value="no" class="checkbox-no"></div></td>
                            <td><div class="checkbox-group"><input type="radio" name="response_ff_29" value="pending" class="checkbox-pending"></div></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><textarea rows="1"></textarea></td>
                            <td><div class="date-cell"><input type="date" class="follow-up-date"><button class="same-above-btn" onclick="copyDateAbove(this)">Same as above</button></div></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="save-buttons">
            <button class="save-btn" id="savePdfBtnBottom">üìÑ Save as PDF (Send to Ops Team + Store Manager)</button>
            <button class="save-btn" id="clearFormBtnBottom">üßπ Clear Form</button>
        </div>
    </div>

    <div class="modal-overlay" id="commentModal" role="dialog" aria-modal="true">
        <div class="modal-card">
            <h3 id="modalTitle">Edit notes</h3>
            <textarea id="modalTextarea" placeholder="Type here..."></textarea>
            <div class="modal-actions">
                <button class="save-btn" id="modalCancelBtn">Cancel</button>
                <button class="save-btn" id="modalSaveBtn">Save</button>
            </div>
        </div>
    </div>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        let isDarkMode = false;

        themeToggle.addEventListener('click', () => {
            isDarkMode = !isDarkMode;
            if (isDarkMode) {
                body.setAttribute('data-theme', 'dark');
                themeToggle.textContent = '‚òÄÔ∏è';
            } else {
                body.removeAttribute('data-theme');
                themeToggle.textContent = 'üåô';
            }
        });

        // Automatic device detection for layout
        const container = document.querySelector('.container');
        const headerInputs = document.getElementById('headerInputs');

        function applyResponsiveLayout() {
            const isMobile = window.matchMedia('(max-width: 768px)').matches;
            container.classList.toggle('mobile-layout', isMobile);
            headerInputs.classList.toggle('mobile', isMobile);
        }

        window.addEventListener('resize', applyResponsiveLayout);
        applyResponsiveLayout();

        // Sheet Tabs
        const tabButtons = document.querySelectorAll('.tab-btn');
        const sheets = document.querySelectorAll('.checklist-sheet');
        const sheetTitle = document.getElementById('sheetTitle');

        tabButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const sheetType = btn.getAttribute('data-sheet');
                
                tabButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                sheets.forEach(s => s.classList.remove('active'));
                document.getElementById(`${sheetType}-sheet`).classList.add('active');
                
                if (sheetType === 'cs') {
                    sheetTitle.textContent = 'DPM CS Store Visit Checklist';
                } else {
                    sheetTitle.textContent = 'DPM FF Store Visit Checklist';
                }
            });
        });

        // Copy Date Above Function
        function copyDateAbove(button) {
            const currentCell = button.closest('td');
            const currentRow = currentCell.closest('tr');
            const prevRow = currentRow.previousElementSibling;
            
            if (prevRow) {
                const prevDateCell = prevRow.querySelector('.date-cell');
                if (prevDateCell) {
                    const prevDateInput = prevDateCell.querySelector('input[type="date"]');
                    const currentDateInput = currentCell.querySelector('input[type="date"]');
                    
                    if (prevDateInput && currentDateInput) {
                        currentDateInput.value = prevDateInput.value;
                    }
                }
            }
        }

        function savePdf() { window.print(); }
        document.getElementById('savePdfBtnTop').addEventListener('click', savePdf);
        document.getElementById('savePdfBtnBottom').addEventListener('click', savePdf);

        function clearForm() {
            if (!confirm('Clear all form entries?')) return;
            document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
            document.querySelectorAll('input[type="date"], input[type="text"]').forEach(el => el.value = '');
            document.querySelectorAll('.comment-btn').forEach(btn => {
                btn.dataset.value = '';
                btn.classList.remove('has-content');
                btn.textContent = 'Tap to add details';
                btn.nextElementSibling.textContent = '';
            });
            document.getElementById('dateInput').valueAsDate = new Date();
        }

        document.getElementById('clearFormBtnTop').addEventListener('click', clearForm);
        document.getElementById('clearFormBtnBottom').addEventListener('click', clearForm);

        function applyCategoryAlternating() {
            document.querySelectorAll('tbody').forEach(tbody => {
                let idx = 0;
                tbody.querySelectorAll('tr.category-row').forEach(row => {
                    row.classList.remove('category-alt-1', 'category-alt-2');
                    row.classList.add(idx % 2 === 0 ? 'category-alt-1' : 'category-alt-2');
                    idx += 1;
                });
            });
        }

        const commentModal = document.getElementById('commentModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalTextarea = document.getElementById('modalTextarea');
        const modalCancelBtn = document.getElementById('modalCancelBtn');
        const modalSaveBtn = document.getElementById('modalSaveBtn');
        let activeCommentBtn = null;

        function updateCommentButton(btn, value) {
            const text = value.trim();
            btn.dataset.value = value;
            btn.classList.toggle('has-content', Boolean(text));
            btn.textContent = text ? (text.length > 45 ? `${text.slice(0, 45)}‚Ä¶` : text) : 'Tap to add details';
            if (btn.nextElementSibling) btn.nextElementSibling.textContent = value;
        }

        function initCommentButtons() {
            document.querySelectorAll('.checklist-sheet tbody tr').forEach(row => {
                const cells = row.querySelectorAll('td');
                [5, 6].forEach((i) => {
                    const cell = cells[i];
                    if (!cell) return;
                    const textarea = cell.querySelector('textarea');
                    if (!textarea) return;
                    const label = i === 5 ? 'AC Comments' : 'Action Items';
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'comment-btn';
                    btn.dataset.label = label;
                    const printDiv = document.createElement('div');
                    printDiv.className = 'comment-print';
                    updateCommentButton(btn, textarea.value || '');
                    btn.addEventListener('click', () => {
                        activeCommentBtn = btn;
                        modalTitle.textContent = `Edit ${label}`;
                        modalTextarea.value = btn.dataset.value || '';
                        commentModal.classList.add('open');
                        modalTextarea.focus();
                    });
                    cell.innerHTML = '';
                    cell.appendChild(btn);
                    cell.appendChild(printDiv);
                });
            });
        }

        modalCancelBtn.addEventListener('click', () => commentModal.classList.remove('open'));
        modalSaveBtn.addEventListener('click', () => {
            if (activeCommentBtn) updateCommentButton(activeCommentBtn, modalTextarea.value);
            commentModal.classList.remove('open');
        });

        // Save as Excel (basic implementation - converts to CSV)
        document.getElementById('saveExcelBtn').addEventListener('click', () => {
            const activeSheet = document.querySelector('.checklist-sheet.active');
            const table = activeSheet.querySelector('table');
            const sheetType = document.querySelector('.tab-btn.active').getAttribute('data-sheet').toUpperCase();
            
            let csv = [];
            
            // Add header info
            csv.push(`DPM ${sheetType} Store Visit Checklist`);
            csv.push(`Observer Name:,${document.getElementById('nameInput').value}`);
            csv.push(`Date:,${document.getElementById('dateInput').value}`);
            csv.push(`Site:,${document.getElementById('siteInput').value}`);
            csv.push(`Manager on Duty:,${document.getElementById('managerOnDutyInput').value}`);
            csv.push('');
            
            // Add table headers
            const headers = [];
            table.querySelectorAll('thead th').forEach(th => {
                headers.push(th.textContent.trim());
            });
            csv.push(headers.join(','));
            
            // Add table data
            table.querySelectorAll('tbody tr').forEach(row => {
                const rowData = [];
                const cells = row.querySelectorAll('td');
                
                // Category
                rowData.push(cells[0].textContent.trim());
                // Task
                rowData.push(cells[1].textContent.trim());
                
                // Status
                const statusSelect = cells[2].querySelector('.status-select');
                rowData.push(statusSelect ? statusSelect.value : '');

                // AC Comments
                rowData.push(cells[5].querySelector('.comment-btn')?.dataset.value || '');
                // Action Items
                rowData.push(cells[6].querySelector('.comment-btn')?.dataset.value || '');
                // Follow Up Date
                const dateInput = cells[5]?.querySelector('input[type="date"]');
                rowData.push(dateInput ? dateInput.value : '');
                
                csv.push(rowData.map(val => `"${val}"`).join(','));
            });
            
            const csvContent = csv.join('\n');
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `DPM_${sheetType}_Checklist_${new Date().toISOString().split('T')[0]}.csv`;
            a.click();
            URL.revokeObjectURL(url);
        });

        // Set today's date as default
        document.getElementById('dateInput').valueAsDate = new Date();
        initCommentButtons();
        applyCategoryAlternating();
    </script>
</body>
</html>
